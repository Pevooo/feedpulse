(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[79764],{916115:function(e,t,r){"use strict";r.d(t,{m:function(){return i}});var s=r(824246),n=r(792739),a=r(720227);const i=({tabs:e,value:t,onChange:r,variant:i,className:o})=>(0,s.jsx)("div",{className:(0,a.m)("border-0 border-b border-solid scaleui border-neutral-200",o),children:(0,s.jsx)("nav",{className:"flex -mb-px space-x-4","aria-label":"Tabs",children:e.map((e=>{var o;const l=null!==(o=e.label)&&void 0!==o?o:e.id;return(0,s.jsx)("button",{type:"button",disabled:e.disabled,className:(0,a.m)("whitespace-nowrap py-2 px-1 border-0 border-solid border-b-2 font-medium text-sm",e.id===t?"border-primary-500 text-primary-600":"border-transparent text-neutral-500 hover:text-neutral-700 hover:border-neutral-300","fill"===i&&"w-full"),"aria-current":e.id===t?"page":void 0,onClick:()=>r(e.id),children:(0,s.jsxs)("span",{className:"flex items-center",children:[e.icon&&(0,s.jsx)(n.G,{icon:e.icon,className:"mr-2"}),l,e.suffix&&(0,s.jsx)("span",{className:"ml-1",children:e.suffix})]})},e.id)}))})})},372680:function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.REQUEST_PROJECT_ROLES_LINK=t.userHasActiveSpecificRole=t.shouldShowRemoAdminProjectRole=t.RoleList=t.RoleDescription=t.Role=void 0,t.Role=r,function(e){e.EM="Engagement Manager",e.STO="STO",e.DRI="Ops DRI",e.QualitySystems="Quality Systems",e.CoursesInstructions="Courses and Instructions",e.QM="QM",e.TaskerManagement="Tasker Management",e.QualityAudits="Quality Audits",e.QARValidator="QM QAR Validator",e.QIRValidator="QM QIR Validator",e.QARAuditor="QAR Auditor",e.QIRAuditor="QIR Auditor",e.ProjectPlanning="Project Planning",e.TaskerCommunication="Tasker Communication",e.EngineeringSupport="Engineering Support",e.RemoAdminQATasker="RemoAdmin QA/Tasker",e.RemoAdminReviewer="RemoAdmin Reviewer",e.KeepLoopRemoAdmin="Keep in Loop (with RemoAdmin)",e.KeepLoop="Keep in Loop",e.OPs="Ops (Unspecified Role, Performing Project Work)",e.DeliveryOpsTeamMember="Delivery Ops Team Member",e.CentralOpsTeamMember="Central Ops Team Member",e.NonDeliveryFunction="Non-Delivery Function"}(r||(t.Role=r={}));const s={[r.EM]:{role:r.EM,label:"Engagement Manager",helpText:"This person is responsible for the customer relationship and tracking consumption, amongst other things."},[r.STO]:{role:r.STO,label:"STO",helpText:"Single Threaded Owner. Main person responsible for project execution and results."},[r.DRI]:{role:r.DRI,label:"Ops DRI",helpText:"This is the person responsible for delivering quality and throughput for that specific queue."},[r.QualitySystems]:{role:r.QualitySystems,label:"Quality Systems",helpText:"This person configures and monitors the systems used to measure tasker and annotation quality on the queue."},[r.CoursesInstructions]:{role:r.CoursesInstructions,label:"Courses and Instructions",helpText:"This person works to create and maintain clear instructions and effective courses."},[r.QM]:{role:r.QM,label:"QM",helpText:"Queue Manager. This person is responsible for adjusting the queue to make sure SLAs are attained and taskers are properly incentivized."},[r.TaskerManagement]:{role:r.TaskerManagement,label:"Tasker Management",helpText:"This person manages allocation, promotions, demotions, and disabling permissions for tasters on this project."},[r.QualityAudits]:{role:r.QualityAudits,label:"Quality Audits",helpText:"This person is directly auditing work from taskers to identify quality issues."},[r.QARValidator]:{role:r.QARValidator,label:"QM QAR Validator",helpText:"This person is responsible for resolving issues identified in the queue by the QAR process."},[r.QIRValidator]:{role:r.QIRValidator,label:"QM QIR Validator",helpText:"This person is responsible for resolving issues identified in the queue by the QIR process."},[r.QARAuditor]:{role:r.QARAuditor,label:"QAR Auditor",helpText:"A person from the QAR team that is responsible for identifying issues in the queue by the QAR process."},[r.QIRAuditor]:{role:r.QIRAuditor,label:"QIR Auditor",helpText:"A person from the QIR team that is responsible for identifying issues in the queue by the QIR process."},[r.ProjectPlanning]:{role:r.ProjectPlanning,label:"Project Planning",helpText:"This person is responsible for ensuring throughput and/or turnaround time is hitting targets."},[r.TaskerCommunication]:{role:r.TaskerCommunication,label:"Tasker Communication",helpText:"This person is communicating with taskers or tasker support resources to answer questions and resolve concerns."},[r.EngineeringSupport]:{role:r.EngineeringSupport,label:"Engineering Support",helpText:"This is someone supporting the project in a technical capacity \u2014 either as a FE, SWE, SE, or MLE."},[r.RemoAdminQATasker]:{role:r.RemoAdminQATasker,label:"RemoAdmin QA/Tasker",helpText:"RemoAdmin QA or Tasker."},[r.RemoAdminReviewer]:{role:r.RemoAdminReviewer,label:"RemoAdmin Operation Reviewer",helpText:"Reviews QA Operations and work performed by RemoAdmin QAs/Taskers."},[r.KeepLoopRemoAdmin]:{role:r.KeepLoopRemoAdmin,label:"Keep in Loop (with RemoAdmin)",helpText:'This is the same as "Keep in Loop". The difference is that this gives access to the project in RemoAdmin, so it needs authorization.'},[r.KeepLoop]:{role:r.KeepLoop,label:"Keep in Loop",helpText:"This is someone who doesn't fit into the other categories but who wants to be informed about this project."},[r.OPs]:{role:r.OPs,label:"Ops (Unspecified Role, Performing Project Work)",helpText:"Ops (Unspecified Role, Performing Project Work)."},[r.DeliveryOpsTeamMember]:{role:r.DeliveryOpsTeamMember,label:"Delivery Ops Team Member",helpText:"Catch-all role for all OPMs, OAs, non-STO SPLs, etc. that are working on the project."},[r.CentralOpsTeamMember]:{role:r.CentralOpsTeamMember,label:"Central Ops Team Member",helpText:"Non-member of the Operations team person allowed to work on the project."},[r.NonDeliveryFunction]:{role:r.NonDeliveryFunction,label:"Non-Delivery Function",helpText:"Someone who is not part of the delivery team but needs temporary access to the project."}};t.RoleDescription=s;const n=[s[r.EM],s[r.STO],s[r.DeliveryOpsTeamMember],s[r.CentralOpsTeamMember]];t.RoleList=n;const a=new Set([r.RemoAdminQATasker,r.KeepLoopRemoAdmin,r.RemoAdminReviewer]);t.shouldShowRemoAdminProjectRole=e=>{const t=e.role&&a.has(e.role),r=!0===e.user.isRemoAdmin,s=[];e.user.remoAdminPersonas?.forEach((e=>{e.enabled&&e.projects?.forEach((e=>{s.push(e)}))}));const n=s.includes(e.project._id);return!t||t&&r&&n};t.userHasActiveSpecificRole=(e,t,r)=>r.find((r=>r.role===e&&r.user._id===t&&new Date(r.startDate)<new Date&&(!r.stopDate||new Date(r.stopDate)>new Date)));t.REQUEST_PROJECT_ROLES_LINK="https://scale.atlassian.net/servicedesk/customer/portal/35"},33198:function(e,t,r){var s=/^\s+|\s+$/g,n=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,i=/^0o[0-7]+$/i,o=parseInt,l="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,u="object"==typeof self&&self&&self.Object===Object&&self,c=l||u||Function("return this")(),d=Object.prototype.toString,f=Math.max,m=Math.min,p=function(){return c.Date.now()};function y(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function h(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==d.call(e)}(e))return NaN;if(y(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=y(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(s,"");var r=a.test(e);return r||i.test(e)?o(e.slice(2),r?2:8):n.test(e)?NaN:+e}e.exports=function(e,t,r){var s,n,a,i,o,l,u=0,c=!1,d=!1,g=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function v(t){var r=s,a=n;return s=n=void 0,u=t,i=e.apply(a,r)}function b(e){return u=e,o=setTimeout(_,t),c?v(e):i}function A(e){var r=e-l;return void 0===l||r>=t||r<0||d&&e-u>=a}function _(){var e=p();if(A(e))return S(e);o=setTimeout(_,function(e){var r=t-(e-l);return d?m(r,a-(e-u)):r}(e))}function S(e){return o=void 0,g&&s?v(e):(s=n=void 0,i)}function x(){var e=p(),r=A(e);if(s=arguments,n=this,l=e,r){if(void 0===o)return b(l);if(d)return o=setTimeout(_,t),v(l)}return void 0===o&&(o=setTimeout(_,t)),i}return t=h(t)||0,y(r)&&(c=!!r.leading,a=(d="maxWait"in r)?f(h(r.maxWait)||0,t):a,g="trailing"in r?!!r.trailing:g),x.cancel=function(){void 0!==o&&clearTimeout(o),u=0,s=l=n=o=void 0},x.flush=function(){return void 0===o?i:S(p())},x}},588039:function(e,t,r){"use strict";r.d(t,{Qr:function(){return B},RV:function(){return D},KN:function(){return K},U2:function(){return m},Dq:function(){return le},cI:function(){return Le},Gc:function(){return V},cl:function(){return N}});var s=r(827378),n=e=>"checkbox"===e.type,a=e=>e instanceof Date,i=e=>null==e;const o=e=>"object"===typeof e;var l=e=>!i(e)&&!Array.isArray(e)&&o(e)&&!a(e),u=e=>l(e)&&e.target?n(e.target)?e.target.checked:e.target.value:e,c=(e,t)=>e.has((e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e)(t)),d=e=>Array.isArray(e)?e.filter(Boolean):[],f=e=>void 0===e,m=(e,t,r)=>{if(!t||!l(e))return r;const s=d(t.split(/[,[\].]+?/)).reduce(((e,t)=>i(e)?e:e[t]),e);return f(s)||s===e?f(e[t])?r:e[t]:s};const p="blur",y="focusout",h="change",g="onBlur",v="onChange",b="onSubmit",A="onTouched",_="all",S="max",x="min",w="maxLength",T="minLength",k="pattern",R="required",F="validate",O=s.createContext(null),V=()=>s.useContext(O),D=e=>{const{children:t,...r}=e;return s.createElement(O.Provider,{value:r},e.children)};var E=(e,t,r,s=!0)=>{const n={};for(const a in e)Object.defineProperty(n,a,{get:()=>{const n=a;return t[n]!==_&&(t[n]=!s||_),r&&(r[n]=!0),e[n]}});return n},j=e=>l(e)&&!Object.keys(e).length,C=(e,t,r)=>{const{name:s,...n}=e;return j(n)||Object.keys(n).length>=Object.keys(t).length||Object.keys(n).find((e=>t[e]===(!r||_)))},M=e=>Array.isArray(e)?e:[e],Q=(e,t,r)=>r&&t?e===t:!e||!t||e===t||M(e).some((e=>e&&(e.startsWith(t)||t.startsWith(e))));function I(e){const t=s.useRef(e);t.current=e,s.useEffect((()=>{const r=!e.disabled&&t.current.subject.subscribe({next:t.current.callback});return()=>(e=>{e&&e.unsubscribe()})(r)}),[e.disabled])}function N(e){const t=V(),{control:r=t.control,disabled:n,name:a,exact:i}=e||{},[o,l]=s.useState(r._formState),u=s.useRef({isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1}),c=s.useRef(a),d=s.useRef(!0);c.current=a;return I({disabled:n,callback:s.useCallback((e=>d.current&&Q(c.current,e.name,i)&&C(e,u.current)&&l({...r._formState,...e})),[r,i]),subject:r._subjects.state}),s.useEffect((()=>(d.current=!0,()=>{d.current=!1})),[]),E(o,r._proxyFormState,u.current,!1)}var P=e=>"string"===typeof e,L=(e,t,r,s)=>{const n=Array.isArray(e);return P(e)?(s&&t.watch.add(e),m(r,e)):n?e.map((e=>(s&&t.watch.add(e),m(r,e)))):(s&&(t.watchAll=!0),r)},U=e=>"function"===typeof e,z=e=>{for(const t in e)if(U(e[t]))return!0;return!1};function q(e){const t=V(),{name:r,control:n=t.control,shouldUnregister:a}=e,i=c(n._names.array,r),o=function(e){const t=V(),{control:r=t.control,name:n,defaultValue:a,disabled:i,exact:o}=e||{},u=s.useRef(n);u.current=n;const c=s.useCallback((e=>{if(Q(u.current,e.name,o)){const t=L(u.current,r._names,e.values||r._formValues);m(f(u.current)||l(t)&&!z(t)?{...t}:Array.isArray(t)?[...t]:f(t)?a:t)}}),[r,o,a]);I({disabled:i,subject:r._subjects.watch,callback:c});const[d,m]=s.useState(f(a)?r._getWatch(n):a);return s.useEffect((()=>{r._removeUnmounted()})),d}({control:n,name:r,defaultValue:m(n._formValues,r,m(n._defaultValues,r,e.defaultValue)),exact:!0}),d=N({control:n,name:r}),y=s.useRef(n.register(r,{...e.rules,value:o}));return s.useEffect((()=>{const e=(e,t)=>{const r=m(n._fields,e);r&&(r._f.mount=t)};return e(r,!0),()=>{const t=n._options.shouldUnregister||a;(i?t&&!n._stateFlags.action:t)?n.unregister(r):e(r,!1)}}),[r,n,i,a]),{field:{name:r,value:o,onChange:s.useCallback((e=>{y.current.onChange({target:{value:u(e),name:r},type:h})}),[r]),onBlur:s.useCallback((()=>{y.current.onBlur({target:{value:m(n._formValues,r),name:r},type:p})}),[r,n]),ref:s.useCallback((e=>{const t=m(n._fields,r);e&&t&&e.focus&&(t._f.ref={focus:()=>e.focus(),setCustomValidity:t=>e.setCustomValidity(t),reportValidity:()=>e.reportValidity()})}),[r,n._fields])},formState:d,fieldState:n.getFieldState(r,d)}}const B=e=>e.render(q(e));var K=(e,t,r,s,n)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[s]:n||!0}}:{},J=e=>/^\w*$/.test(e),W=e=>d(e.replace(/["|']|\]/g,"").split(/\.|\[/));function $(e,t,r){let s=-1;const n=J(t)?[t]:W(t),a=n.length,i=a-1;for(;++s<a;){const t=n[s];let a=r;if(s!==i){const r=e[t];a=l(r)||Array.isArray(r)?r:isNaN(+n[s+1])?{}:[]}e[t]=a,e=e[t]}return e}const H=(e,t,r)=>{for(const s of r||Object.keys(e)){const r=m(e,s);if(r){const{_f:e,...s}=r;if(e&&t(e.name)){if(e.ref.focus&&f(e.ref.focus()))break;if(e.refs){e.refs[0].focus();break}}else l(s)&&H(s,t)}}};var G=()=>{const e="undefined"===typeof performance?Date.now():1e3*performance.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(t=>{const r=(16*Math.random()+e)%16|0;return("x"==t?r:3&r|8).toString(16)}))},X=(e,t,r={})=>r.shouldFocus||f(r.shouldFocus)?r.focusName||`${e}.${f(r.focusIndex)?t:r.focusIndex}.`:"",Y=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some((t=>e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length)))));function Z(e,t){return[...e,...M(t)]}function ee(e){let t;const r=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else{if(!r&&!l(e))return e;t=r?[]:{};for(const r in e){if(U(e[r])){t=e;break}t[r]=ee(e[r])}}return t}var te=e=>Array.isArray(e)?e.map((()=>{})):void 0;function re(e,t,r){return[...e.slice(0,t),...M(r),...e.slice(t)]}var se=(e,t,r)=>Array.isArray(e)?(f(e[r])&&(e[r]=void 0),e.splice(r,0,e.splice(t,1)[0]),e):[];function ne(e,t){return[...M(t),...M(e)]}var ae=(e,t)=>f(t)?[]:function(e,t){let r=0;const s=[...e];for(const n of t)s.splice(n-r,1),r++;return d(s).length?s:[]}(e,M(t).sort(((e,t)=>e-t))),ie=(e,t,r)=>{e[t]=[e[r],e[r]=e[t]][0]},oe=(e,t,r)=>(e[t]=r,e);function le(e){const t=V(),{control:r=t.control,name:n,keyName:a="id",shouldUnregister:i}=e,[o,l]=s.useState(r._getFieldArray(n)),u=s.useRef(r._getFieldArray(n).map(G)),c=s.useRef(o),d=s.useRef(n),f=s.useRef(!1);d.current=n,c.current=o,r._names.array.add(n);I({callback:s.useCallback((({values:e,name:t})=>{if(t===d.current||!t){const t=m(e,d.current,[]);l(t),u.current=t.map(G)}}),[]),subject:r._subjects.array});const p=s.useCallback((e=>{f.current=!0,r._updateFieldArray(n,e)}),[r,n]);return s.useEffect((()=>{r._stateFlags.action=!1,Y(n,r._names)&&r._subjects.state.next({}),f.current&&r._executeSchema([n]).then((e=>{const t=m(e.errors,n);t&&t.type&&!m(r._formState.errors,n)&&($(r._formState.errors,n,t),r._subjects.state.next({errors:r._formState.errors}))})),r._subjects.watch.next({name:n,values:r._formValues}),r._names.focus&&H(r._fields,(e=>e.startsWith(r._names.focus))),r._names.focus="",r._proxyFormState.isValid&&r._updateValid()}),[o,n,r]),s.useEffect((()=>(!m(r._formValues,n)&&r._updateFieldArray(n),()=>{(r._options.shouldUnregister||i)&&r.unregister(n)})),[n,r,a,i]),{swap:s.useCallback(((e,t)=>{const s=r._getFieldArray(n);ie(s,e,t),ie(u.current,e,t),p(s),l(s),r._updateFieldArray(n,s,ie,{argA:e,argB:t},!1)}),[p,n,r]),move:s.useCallback(((e,t)=>{const s=r._getFieldArray(n);se(s,e,t),se(u.current,e,t),p(s),l(s),r._updateFieldArray(n,s,se,{argA:e,argB:t},!1)}),[p,n,r]),prepend:s.useCallback(((e,t)=>{const s=M(ee(e)),a=ne(r._getFieldArray(n),s);r._names.focus=X(n,0,t),u.current=ne(u.current,s.map(G)),p(a),l(a),r._updateFieldArray(n,a,ne,{argA:te(e)})}),[p,n,r]),append:s.useCallback(((e,t)=>{const s=M(ee(e)),a=Z(r._getFieldArray(n),s);r._names.focus=X(n,a.length-1,t),u.current=Z(u.current,s.map(G)),p(a),l(a),r._updateFieldArray(n,a,Z,{argA:te(e)})}),[p,n,r]),remove:s.useCallback((e=>{const t=ae(r._getFieldArray(n),e);u.current=ae(u.current,e),p(t),l(t),r._updateFieldArray(n,t,ae,{argA:e})}),[p,n,r]),insert:s.useCallback(((e,t,s)=>{const a=M(ee(t)),i=re(r._getFieldArray(n),e,a);r._names.focus=X(n,e,s),u.current=re(u.current,e,a.map(G)),p(i),l(i),r._updateFieldArray(n,i,re,{argA:e,argB:te(t)})}),[p,n,r]),update:s.useCallback(((e,t)=>{const s=ee(t),a=oe(r._getFieldArray(n),e,s);u.current=[...a].map(((t,r)=>t&&r!==e?u.current[r]:G())),p(a),l([...a]),r._updateFieldArray(n,a,oe,{argA:e,argB:s},!0,!1)}),[p,n,r]),replace:s.useCallback((e=>{const t=M(ee(e));u.current=t.map(G),p([...t]),l([...t]),r._updateFieldArray(n,[...t],(e=>e),{},!0,!1)}),[p,n,r]),fields:s.useMemo((()=>o.map(((e,t)=>({...e,[a]:u.current[t]||G()})))),[o,a])}}function ue(){let e=[];return{get observers(){return e},next:t=>{for(const r of e)r.next(t)},subscribe:t=>(e.push(t),{unsubscribe:()=>{e=e.filter((e=>e!==t))}}),unsubscribe:()=>{e=[]}}}var ce=e=>i(e)||!o(e);function de(e,t){if(ce(e)||ce(t))return e===t;if(a(e)&&a(t))return e.getTime()===t.getTime();const r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(const n of r){const r=e[n];if(!s.includes(n))return!1;if("ref"!==n){const e=t[n];if(a(r)&&a(e)||l(r)&&l(e)||Array.isArray(r)&&Array.isArray(e)?!de(r,e):r!==e)return!1}}return!0}var fe=e=>({isOnSubmit:!e||e===b,isOnBlur:e===g,isOnChange:e===v,isOnAll:e===_,isOnTouch:e===A}),me=e=>"boolean"===typeof e,pe=e=>"file"===e.type,ye=e=>e instanceof HTMLElement,he=e=>"select-multiple"===e.type,ge=e=>"radio"===e.type,ve="undefined"!==typeof window&&"undefined"!==typeof window.HTMLElement&&"undefined"!==typeof document,be=e=>ye(e)&&e.isConnected;function Ae(e,t){const r=J(t)?[t]:W(t),s=1==r.length?e:function(e,t){const r=t.slice(0,-1).length;let s=0;for(;s<r;)e=f(e)?s++:e[t[s++]];return e}(e,r),n=r[r.length-1];let a;s&&delete s[n];for(let i=0;i<r.slice(0,-1).length;i++){let t,s=-1;const n=r.slice(0,-(i+1)),o=n.length-1;for(i>0&&(a=e);++s<n.length;){const r=n[s];t=t?t[r]:e[r],o===s&&(l(t)&&j(t)||Array.isArray(t)&&!t.filter((e=>!f(e))).length)&&(a?delete a[r]:delete e[r]),a=t}}return e}function _e(e,t={}){const r=Array.isArray(e);if(l(e)||r)for(const s in e)Array.isArray(e[s])||l(e[s])&&!z(e[s])?(t[s]=Array.isArray(e[s])?[]:{},_e(e[s],t[s])):i(e[s])||(t[s]=!0);return t}function Se(e,t,r){const s=Array.isArray(e);if(l(e)||s)for(const n in e)Array.isArray(e[n])||l(e[n])&&!z(e[n])?f(t)||ce(r[n])?r[n]=Array.isArray(e[n])?_e(e[n],[]):{..._e(e[n])}:Se(e[n],i(t)?{}:t[n],r[n]):r[n]=!de(e[n],t[n]);return r}var xe=(e,t)=>Se(e,t,_e(t));const we={value:!1,isValid:!1},Te={value:!0,isValid:!0};var ke=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter((e=>e&&e.checked&&!e.disabled)).map((e=>e.value));return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!f(e[0].attributes.value)?f(e[0].value)||""===e[0].value?Te:{value:e[0].value,isValid:!0}:Te:we}return we},Re=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:s})=>f(e)?e:t?""===e?NaN:+e:r&&P(e)?new Date(e):s?s(e):e;const Fe={isValid:!1,value:null};var Oe=e=>Array.isArray(e)?e.reduce(((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e),Fe):Fe;function Ve(e){const t=e.ref;if(!(e.refs?e.refs.every((e=>e.disabled)):t.disabled))return pe(t)?t.files:ge(t)?Oe(e.refs).value:he(t)?[...t.selectedOptions].map((({value:e})=>e)):n(t)?ke(e.refs).value:Re(f(t.value)?e.ref.value:t.value,e)}var De=e=>e instanceof RegExp,Ee=e=>f(e)?void 0:De(e)?e.source:l(e)?De(e.value)?e.value.source:e.value:e;function je(e,t,r){const s=m(e,r);if(s||J(r))return{error:s,name:r};const n=r.split(".");for(;n.length;){const s=n.join("."),a=m(t,s),i=m(e,s);if(a&&!Array.isArray(a)&&r!==s)return{name:r};if(i&&i.type)return{name:s,error:i};n.pop()}return{name:r}}var Ce=e=>P(e)||s.isValidElement(e);function Me(e,t,r="validate"){if(Ce(e)||Array.isArray(e)&&e.every(Ce)||me(e)&&!e)return{type:r,message:Ce(e)?e:"",ref:t}}var Qe=e=>l(e)&&!De(e)?e:{value:e,message:""},Ie=async(e,t,r,s)=>{const{ref:a,refs:o,required:u,maxLength:c,minLength:d,min:f,max:m,pattern:p,validate:y,name:h,valueAsNumber:g,mount:v,disabled:b}=e._f;if(!v||b)return{};const A=o?o[0]:a,_=e=>{s&&A.reportValidity&&(A.setCustomValidity(me(e)?"":e||" "),A.reportValidity())},O={},V=ge(a),D=n(a),E=V||D,C=(g||pe(a))&&!a.value||""===t||Array.isArray(t)&&!t.length,M=K.bind(null,h,r,O),Q=(e,t,r,s=w,n=T)=>{const i=e?t:r;O[h]={type:e?s:n,message:i,ref:a,...M(e?s:n,i)}};if(u&&(!E&&(C||i(t))||me(t)&&!t||D&&!ke(o).isValid||V&&!Oe(o).isValid)){const{value:e,message:t}=Ce(u)?{value:!!u,message:u}:Qe(u);if(e&&(O[h]={type:R,message:t,ref:A,...M(R,t)},!r))return _(t),O}if(!C&&(!i(f)||!i(m))){let e,s;const n=Qe(m),o=Qe(f);if(isNaN(t)){const r=a.valueAsDate||new Date(t);P(n.value)&&(e=r>new Date(n.value)),P(o.value)&&(s=r<new Date(o.value))}else{const r=a.valueAsNumber||+t;i(n.value)||(e=r>n.value),i(o.value)||(s=r<o.value)}if((e||s)&&(Q(!!e,n.message,o.message,S,x),!r))return _(O[h].message),O}if((c||d)&&!C&&P(t)){const e=Qe(c),s=Qe(d),n=!i(e.value)&&t.length>e.value,a=!i(s.value)&&t.length<s.value;if((n||a)&&(Q(n,e.message,s.message),!r))return _(O[h].message),O}if(p&&!C&&P(t)){const{value:e,message:s}=Qe(p);if(De(e)&&!t.match(e)&&(O[h]={type:k,message:s,ref:a,...M(k,s)},!r))return _(s),O}if(y)if(U(y)){const e=Me(await y(t),A);if(e&&(O[h]={...e,...M(F,e.message)},!r))return _(e.message),O}else if(l(y)){let e={};for(const s in y){if(!j(e)&&!r)break;const n=Me(await y[s](t),A,s);n&&(e={...n,...M(s,n.message)},_(n.message),r&&(O[h]=e))}if(!j(e)&&(O[h]={ref:A,...e},!r))return O}return _(!0),O};const Ne={mode:b,reValidateMode:v,shouldFocusError:!0};function Pe(e={}){let t,r={...Ne,...e},s={isDirty:!1,isValidating:!1,dirtyFields:{},isSubmitted:!1,submitCount:0,touchedFields:{},isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,errors:{}},o={},l=ee(r.defaultValues)||{},h=r.shouldUnregister?{}:ee(l),g={action:!1,mount:!1,watch:!1},v={mount:new Set,unMount:new Set,array:new Set,watch:new Set},b=0,A={};const S={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},x={watch:ue(),array:ue(),state:ue()},w=fe(r.mode),T=fe(r.reValidateMode),k=r.criteriaMode===_,R=async e=>{let t=!1;return S.isValid&&(t=r.resolver?j((await E()).errors):await C(o,!0),e||t===s.isValid||(s.isValid=t,x.state.next({isValid:t}))),t},F=(e,t)=>($(s.errors,e,t),x.state.next({errors:s.errors})),O=(e,t,r,s)=>{const n=m(o,e);if(n){const a=m(h,e,f(r)?m(l,e):r);f(a)||s&&s.defaultChecked||t?$(h,e,t?a:Ve(n._f)):N(e,a),g.mount&&R()}},V=(e,t,r,n,a)=>{let i=!1;const o={name:e},u=m(s.touchedFields,e);if(S.isDirty){const e=s.isDirty;s.isDirty=o.isDirty=Q(),i=e!==o.isDirty}if(S.dirtyFields&&(!r||n)){const r=m(s.dirtyFields,e);de(m(l,e),t)?Ae(s.dirtyFields,e):$(s.dirtyFields,e,!0),o.dirtyFields=s.dirtyFields,i=i||r!==m(s.dirtyFields,e)}return r&&!u&&($(s.touchedFields,e,r),o.touchedFields=s.touchedFields,i=i||S.touchedFields&&u!==r),i&&a&&x.state.next(o),i?o:{}},D=async(r,n,a,i,o)=>{const l=m(s.errors,n),u=S.isValid&&s.isValid!==a;var c,d;if(e.delayError&&i?(t=t||(c=F,d=e.delayError,(...e)=>{clearTimeout(b),b=window.setTimeout((()=>c(...e)),d)}),t(n,i)):(clearTimeout(b),i?$(s.errors,n,i):Ae(s.errors,n)),((i?!de(l,i):l)||!j(o)||u)&&!r){const e={...o,...u?{isValid:a}:{},errors:s.errors,name:n};s={...s,...e},x.state.next(e)}A[n]--,S.isValidating&&!Object.values(A).some((e=>e))&&(x.state.next({isValidating:!1}),A={})},E=async e=>r.resolver?await r.resolver({...h},r.context,((e,t,r,s)=>{const n={};for(const a of e){const e=m(t,a);e&&$(n,a,e._f)}return{criteriaMode:r,names:[...e],fields:n,shouldUseNativeValidation:s}})(e||v.mount,o,r.criteriaMode,r.shouldUseNativeValidation)):{},C=async(e,t,n={valid:!0})=>{for(const a in e){const i=e[a];if(i){const{_f:e,...a}=i;if(e){const a=await Ie(i,m(h,e.name),k,r.shouldUseNativeValidation);if(a[e.name]&&(n.valid=!1,t))break;t||(a[e.name]?$(s.errors,e.name,a[e.name]):Ae(s.errors,e.name))}a&&await C(a,t,n)}}return n.valid},Q=(e,t)=>(e&&t&&$(h,e,t),!de(J(),l)),I=(e,t,r)=>{const s={...g.mount?h:f(t)?l:P(e)?{[e]:t}:t};return L(e,v,s,r)},N=(e,t,r={})=>{const s=m(o,e);let a=t;if(s){const r=s._f;r&&(!r.disabled&&$(h,e,Re(t,r)),a=ve&&ye(r.ref)&&i(t)?"":t,he(r.ref)?[...r.ref.options].forEach((e=>e.selected=a.includes(e.value))):r.refs?n(r.ref)?r.refs.length>1?r.refs.forEach((e=>!e.disabled&&(e.checked=Array.isArray(a)?!!a.find((t=>t===e.value)):a===e.value))):r.refs[0]&&(r.refs[0].checked=!!a):r.refs.forEach((e=>e.checked=e.value===a)):pe(r.ref)?r.ref.value="":(r.ref.value=a,r.ref.type||x.watch.next({name:e})))}(r.shouldDirty||r.shouldTouch)&&V(e,a,r.shouldTouch,r.shouldDirty,!0),r.shouldValidate&&K(e)},z=(e,t,r)=>{for(const s in t){const n=t[s],i=`${e}.${s}`,l=m(o,i);!v.array.has(e)&&ce(n)&&(!l||l._f)||a(n)?N(i,n,r):z(i,n,r)}},q=(e,t,r={})=>{const n=m(o,e),a=v.array.has(e),u=ee(t);$(h,e,u),a?(x.array.next({name:e,values:h}),(S.isDirty||S.dirtyFields)&&r.shouldDirty&&(s.dirtyFields=xe(l,h),x.state.next({name:e,dirtyFields:s.dirtyFields,isDirty:Q(e,u)}))):!n||n._f||i(u)?N(e,u,r):z(e,u,r),Y(e,v)&&x.state.next({}),x.watch.next({name:e})},B=async e=>{const t=e.target;let n=t.name;const a=m(o,n);if(a){let l,c;const d=t.type?Ve(a._f):u(e),f=e.type===p||e.type===y,g=!((i=a._f).mount&&(i.required||i.min||i.max||i.maxLength||i.minLength||i.pattern||i.validate))&&!r.resolver&&!m(s.errors,n)&&!a._f.deps||((e,t,r,s,n)=>!n.isOnAll&&(!r&&n.isOnTouch?!(t||e):(r?s.isOnBlur:n.isOnBlur)?!e:!(r?s.isOnChange:n.isOnChange)||e))(f,m(s.touchedFields,n),s.isSubmitted,T,w),b=Y(n,v,f);$(h,n,d),f?a._f.onBlur&&a._f.onBlur(e):a._f.onChange&&a._f.onChange(e);const _=V(n,d,f,!1),S=!j(_)||b;if(!f&&x.watch.next({name:n,type:e.type}),g)return S&&x.state.next({name:n,...b?{}:_});if(!f&&b&&x.state.next({}),A[n]=(A[n],1),x.state.next({isValidating:!0}),r.resolver){const{errors:e}=await E([n]),t=je(s.errors,o,n),r=je(e,o,t.name||n);l=r.error,n=r.name,c=j(e)}else l=(await Ie(a,m(h,n),k,r.shouldUseNativeValidation))[n],c=await R(!0);a._f.deps&&K(a._f.deps),D(!1,n,c,l,_)}var i},K=async(e,t={})=>{let n,a;const i=M(e);if(x.state.next({isValidating:!0}),r.resolver){const t=await(async e=>{const{errors:t}=await E();if(e)for(const r of e){const e=m(t,r);e?$(s.errors,r,e):Ae(s.errors,r)}else s.errors=t;return t})(f(e)?e:i);n=j(t),a=e?!i.some((e=>m(t,e))):n}else e?(a=(await Promise.all(i.map((async e=>{const t=m(o,e);return await C(t&&t._f?{[e]:t}:t)})))).every(Boolean),(a||s.isValid)&&R()):a=n=await C(o);return x.state.next({...!P(e)||S.isValid&&n!==s.isValid?{}:{name:e},...r.resolver?{isValid:n}:{},errors:s.errors,isValidating:!1}),t.shouldFocus&&!a&&H(o,(e=>m(s.errors,e)),e?i:v.mount),a},J=e=>{const t={...l,...g.mount?h:{}};return f(e)?t:P(e)?m(t,e):e.map((e=>m(t,e)))},W=(e,t)=>({invalid:!!m((t||s).errors,e),isDirty:!!m((t||s).dirtyFields,e),isTouched:!!m((t||s).touchedFields,e),error:m((t||s).errors,e)}),G=(e,t={})=>{for(const n of e?M(e):v.mount)v.mount.delete(n),v.array.delete(n),m(o,n)&&(t.keepValue||(Ae(o,n),Ae(h,n)),!t.keepError&&Ae(s.errors,n),!t.keepDirty&&Ae(s.dirtyFields,n),!t.keepTouched&&Ae(s.touchedFields,n),!r.shouldUnregister&&!t.keepDefaultValue&&Ae(l,n));x.watch.next({}),x.state.next({...s,...t.keepDirty?{isDirty:Q()}:{}}),!t.keepIsValid&&R()},X=(e,t={})=>{let s=m(o,e);const a=me(t.disabled);return $(o,e,{_f:{...s&&s._f?s._f:{ref:{name:e}},name:e,mount:!0,...t}}),v.mount.add(e),s?a&&$(h,e,t.disabled?void 0:m(h,e,Ve(s._f))):O(e,!0,t.value),{...a?{disabled:t.disabled}:{},...r.shouldUseNativeValidation?{required:!!t.required,min:Ee(t.min),max:Ee(t.max),minLength:Ee(t.minLength),maxLength:Ee(t.maxLength),pattern:Ee(t.pattern)}:{},name:e,onChange:B,onBlur:B,ref:a=>{if(a){X(e,t),s=m(o,e);const r=f(a.value)&&a.querySelectorAll&&a.querySelectorAll("input,select,textarea")[0]||a,i=(e=>ge(e)||n(e))(r),u=s._f.refs||[];if(i?u.find((e=>e===r)):r===s._f.ref)return;$(o,e,{_f:{...s._f,...i?{refs:[...u.filter(be),r,...Array.isArray(m(l,e))?[{}]:[]],ref:{type:r.type,name:e}}:{ref:r}}}),O(e,!1,void 0,r)}else s=m(o,e,{}),s._f&&(s._f.mount=!1),(r.shouldUnregister||t.shouldUnregister)&&(!c(v.array,e)||!g.action)&&v.unMount.add(e)}}};return{control:{register:X,unregister:G,getFieldState:W,_executeSchema:E,_getWatch:I,_getDirty:Q,_updateValid:R,_removeUnmounted:()=>{for(const e of v.unMount){const t=m(o,e);t&&(t._f.refs?t._f.refs.every((e=>!be(e))):!be(t._f.ref))&&G(e)}v.unMount=new Set},_updateFieldArray:(e,t=[],r,n,a=!0,i=!0)=>{if(n&&r){if(g.action=!0,i&&Array.isArray(m(o,e))){const t=r(m(o,e),n.argA,n.argB);a&&$(o,e,t)}if(S.errors&&i&&Array.isArray(m(s.errors,e))){const t=r(m(s.errors,e),n.argA,n.argB);a&&$(s.errors,e,t),((e,t)=>{!d(m(e,t)).length&&Ae(e,t)})(s.errors,e)}if(S.touchedFields&&i&&Array.isArray(m(s.touchedFields,e))){const t=r(m(s.touchedFields,e),n.argA,n.argB);a&&$(s.touchedFields,e,t)}S.dirtyFields&&(s.dirtyFields=xe(l,h)),x.state.next({isDirty:Q(e,t),dirtyFields:s.dirtyFields,errors:s.errors,isValid:s.isValid})}else $(h,e,t)},_getFieldArray:t=>d(m(g.mount?h:l,t,e.shouldUnregister?m(l,t,[]):[])),_subjects:x,_proxyFormState:S,get _fields(){return o},get _formValues(){return h},get _stateFlags(){return g},set _stateFlags(e){g=e},get _defaultValues(){return l},get _names(){return v},set _names(e){v=e},get _formState(){return s},set _formState(e){s=e},get _options(){return r},set _options(e){r={...r,...e}}},trigger:K,register:X,handleSubmit:(e,t)=>async n=>{n&&(n.preventDefault&&n.preventDefault(),n.persist&&n.persist());let a=!0,i=ee(h);x.state.next({isSubmitting:!0});try{if(r.resolver){const{errors:e,values:t}=await E();s.errors=e,i=t}else await C(o);j(s.errors)&&Object.keys(s.errors).every((e=>m(i,e)))?(x.state.next({errors:{},isSubmitting:!0}),await e(i,n)):(t&&await t({...s.errors},n),r.shouldFocusError&&H(o,(e=>m(s.errors,e)),v.mount))}catch(l){throw a=!1,l}finally{s.isSubmitted=!0,x.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:j(s.errors)&&a,submitCount:s.submitCount+1,errors:s.errors})}},watch:(e,t)=>U(e)?x.watch.subscribe({next:r=>e(I(void 0,t),r)}):I(e,t,!0),setValue:q,getValues:J,reset:(t,r={})=>{const n=t||l,a=ee(n),i=t&&!j(t)?a:l;if(r.keepDefaultValues||(l=n),!r.keepValues){if(ve&&f(t))for(const e of v.mount){const t=m(o,e);if(t&&t._f){const e=Array.isArray(t._f.refs)?t._f.refs[0]:t._f.ref;try{ye(e)&&e.closest("form").reset();break}catch(u){}}}h=e.shouldUnregister?r.keepDefaultValues?ee(l):{}:a,o={},x.array.next({values:i}),x.watch.next({values:i})}v={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},g.mount=!S.isValid||!!r.keepIsValid,g.watch=!!e.shouldUnregister,x.state.next({submitCount:r.keepSubmitCount?s.submitCount:0,isDirty:r.keepDirty?s.isDirty:!!r.keepDefaultValues&&!de(t,l),isSubmitted:!!r.keepIsSubmitted&&s.isSubmitted,dirtyFields:r.keepDirty?s.dirtyFields:r.keepDefaultValues&&t?Object.entries(t).reduce(((e,[t,r])=>({...e,[t]:r!==m(l,t)})),{}):{},touchedFields:r.keepTouched?s.touchedFields:{},errors:r.keepErrors?s.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},resetField:(e,t={})=>{m(o,e)&&(f(t.defaultValue)?q(e,m(l,e)):(q(e,t.defaultValue),$(l,e,t.defaultValue)),t.keepTouched||Ae(s.touchedFields,e),t.keepDirty||(Ae(s.dirtyFields,e),s.isDirty=t.defaultValue?Q(e,m(l,e)):Q()),t.keepError||(Ae(s.errors,e),S.isValid&&R()),x.state.next({...s}))},clearErrors:e=>{e?M(e).forEach((e=>Ae(s.errors,e))):s.errors={},x.state.next({errors:s.errors})},unregister:G,setError:(e,t,r)=>{const n=(m(o,e,{_f:{}})._f||{}).ref;$(s.errors,e,{...t,ref:n}),x.state.next({name:e,errors:s.errors,isValid:!1}),r&&r.shouldFocus&&n&&n.focus&&n.focus()},setFocus:(e,t={})=>{const r=m(o,e)._f,s=r.refs?r.refs[0]:r.ref;t.shouldSelect?s.select():s.focus()},getFieldState:W}}function Le(e={}){const t=s.useRef(),[r,n]=s.useState({isDirty:!1,isValidating:!1,dirtyFields:{},isSubmitted:!1,submitCount:0,touchedFields:{},isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,errors:{}});t.current?t.current.control._options=e:t.current={...Pe(e),formState:r};const a=t.current.control,i=s.useCallback((e=>{C(e,a._proxyFormState,!0)&&(a._formState={...a._formState,...e},n({...a._formState}))}),[a]);return I({subject:a._subjects.state,callback:i}),s.useEffect((()=>{a._stateFlags.mount||(a._proxyFormState.isValid&&a._updateValid(),a._stateFlags.mount=!0),a._stateFlags.watch&&(a._stateFlags.watch=!1,a._subjects.state.next({})),a._removeUnmounted()})),t.current.formState=E(r,a._proxyFormState),t.current}},527467:function(e,t,r){"use strict";r.d(t,{FL:function(){return l},mW:function(){return a},tJ:function(){return c},XR:function(){return o}});const s=new Map,n=e=>{const t=s.get(e);return t?Object.fromEntries(Object.entries(t.stores).map((([e,t])=>[e,t.getState()]))):{}},a=(e,t={})=>(r,a,o)=>{const{enabled:l,anonymousActionType:u,store:c,...d}=t;let f;try{f=(null==l||l)&&window.__REDUX_DEVTOOLS_EXTENSION__}catch(v){}if(!f)return l&&console.warn("[zustand devtools middleware] Please install/enable Redux devtools extension"),e(r,a,o);const{connection:m,...p}=((e,t,r)=>{if(void 0===e)return{type:"untracked",connection:t.connect(r)};const n=s.get(r.name);if(n)return{type:"tracked",store:e,...n};const a={connection:t.connect(r),stores:{}};return s.set(r.name,a),{type:"tracked",store:e,...a}})(c,f,d);let y=!0;o.setState=(e,t,s)=>{const i=r(e,t);if(!y)return i;const l=void 0===s?{type:u||"anonymous"}:"string"===typeof s?{type:s}:s;return void 0===c?(null==m||m.send(l,a()),i):(null==m||m.send({...l,type:`${c}/${l.type}`},{...n(d.name),[c]:o.getState()}),i)};const h=(...e)=>{const t=y;y=!1,r(...e),y=t},g=e(o.setState,a,o);if("untracked"===p.type?null==m||m.init(g):(p.stores[p.store]=o,null==m||m.init(Object.fromEntries(Object.entries(p.stores).map((([e,t])=>[e,e===p.store?g:t.getState()]))))),o.dispatchFromDevtools&&"function"===typeof o.dispatch){let e=!1;const t=o.dispatch;o.dispatch=(...r)=>{"__setState"!==r[0].type||e||(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),e=!0),t(...r)}}return m.subscribe((e=>{var t;switch(e.type){case"ACTION":return"string"!==typeof e.payload?void console.error("[zustand devtools middleware] Unsupported action format"):i(e.payload,(e=>{if("__setState"!==e.type)o.dispatchFromDevtools&&"function"===typeof o.dispatch&&o.dispatch(e);else{if(void 0===c)return void h(e.state);1!==Object.keys(e.state).length&&console.error('\n                    [zustand devtools middleware] Unsupported __setState action format. \n                    When using \'store\' option in devtools(), the \'state\' should have only one key, which is a value of \'store\' that was passed in devtools(),\n                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }\n                    ');const t=e.state[c];if(void 0===t||null===t)return;JSON.stringify(o.getState())!==JSON.stringify(t)&&h(t)}}));case"DISPATCH":switch(e.payload.type){case"RESET":return h(g),void 0===c?null==m?void 0:m.init(o.getState()):null==m?void 0:m.init(n(d.name));case"COMMIT":return void 0===c?void(null==m||m.init(o.getState())):null==m?void 0:m.init(n(d.name));case"ROLLBACK":return i(e.state,(e=>{if(void 0===c)return h(e),void(null==m||m.init(o.getState()));h(e[c]),null==m||m.init(n(d.name))}));case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return i(e.state,(e=>{void 0!==c?JSON.stringify(o.getState())!==JSON.stringify(e[c])&&h(e[c]):h(e)}));case"IMPORT_STATE":{const{nextLiftedState:r}=e.payload,s=null==(t=r.computedStates.slice(-1)[0])?void 0:t.state;if(!s)return;return h(void 0===c?s:s[c]),void(null==m||m.send(null,r))}case"PAUSE_RECORDING":return y=!y}return}})),g},i=(e,t)=>{let r;try{r=JSON.parse(e)}catch(s){console.error("[zustand devtools middleware] Could not parse the received json",s)}void 0!==r&&t(r)},o=e=>(t,r,s)=>{const n=s.subscribe;s.subscribe=(e,t,r)=>{let a=e;if(t){const n=(null==r?void 0:r.equalityFn)||Object.is;let i=e(s.getState());a=r=>{const s=e(r);if(!n(i,s)){const e=i;t(i=s,e)}},(null==r?void 0:r.fireImmediately)&&t(i,i)}return n(a)};return e(t,r,s)};function l(e){let t;try{t=e()}catch(r){return}return{getItem:e=>{var r;const s=e=>null===e?null:JSON.parse(e),n=null!=(r=t.getItem(e))?r:null;return n instanceof Promise?n.then(s):s(n)},setItem:(e,r)=>t.setItem(e,JSON.stringify(r)),removeItem:e=>t.removeItem(e)}}const u=e=>t=>{try{const r=e(t);return r instanceof Promise?r:{then:e=>u(e)(r),catch(e){return this}}}catch(r){return{then(e){return this},catch:e=>u(e)(r)}}},c=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?(console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),((e,t)=>(r,s,n)=>{let a={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...t},i=!1;const o=new Set,l=new Set;let c;try{c=a.getStorage()}catch(g){}if(!c)return e(((...e)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),r(...e)}),s,n);const d=u(a.serialize),f=()=>{const e=a.partialize({...s()});let t;const r=d({state:e,version:a.version}).then((e=>c.setItem(a.name,e))).catch((e=>{t=e}));if(t)throw t;return r},m=n.setState;n.setState=(e,t)=>{m(e,t),f()};const p=e(((...e)=>{r(...e),f()}),s,n);let y;const h=()=>{var e;if(!c)return;i=!1,o.forEach((e=>e(s())));const t=(null==(e=a.onRehydrateStorage)?void 0:e.call(a,s()))||void 0;return u(c.getItem.bind(c))(a.name).then((e=>{if(e)return a.deserialize(e)})).then((e=>{if(e){if("number"!==typeof e.version||e.version===a.version)return e.state;if(a.migrate)return a.migrate(e.state,e.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}})).then((e=>{var t;return y=a.merge(e,null!=(t=s())?t:p),r(y,!0),f()})).then((()=>{null==t||t(y,void 0),i=!0,l.forEach((e=>e(y)))})).catch((e=>{null==t||t(void 0,e)}))};return n.persist={setOptions:e=>{a={...a,...e},e.getStorage&&(c=e.getStorage())},clearStorage:()=>{null==c||c.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>h(),hasHydrated:()=>i,onHydrate:e=>(o.add(e),()=>{o.delete(e)}),onFinishHydration:e=>(l.add(e),()=>{l.delete(e)})},h(),y||p})(e,t)):((e,t)=>(r,s,n)=>{let a={storage:l((()=>localStorage)),partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...t},i=!1;const o=new Set,c=new Set;let d=a.storage;if(!d)return e(((...e)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),r(...e)}),s,n);const f=()=>{const e=a.partialize({...s()});return d.setItem(a.name,{state:e,version:a.version})},m=n.setState;n.setState=(e,t)=>{m(e,t),f()};const p=e(((...e)=>{r(...e),f()}),s,n);let y;const h=()=>{var e;if(!d)return;i=!1,o.forEach((e=>e(s())));const t=(null==(e=a.onRehydrateStorage)?void 0:e.call(a,s()))||void 0;return u(d.getItem.bind(d))(a.name).then((e=>{if(e){if("number"!==typeof e.version||e.version===a.version)return e.state;if(a.migrate)return a.migrate(e.state,e.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}})).then((e=>{var t;return y=a.merge(e,null!=(t=s())?t:p),r(y,!0),f()})).then((()=>{null==t||t(y,void 0),i=!0,c.forEach((e=>e(y)))})).catch((e=>{null==t||t(void 0,e)}))};return n.persist={setOptions:e=>{a={...a,...e},e.storage&&(d=e.storage)},clearStorage:()=>{null==d||d.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>h(),hasHydrated:()=>i,onHydrate:e=>(o.add(e),()=>{o.delete(e)}),onFinishHydration:e=>(c.add(e),()=>{c.delete(e)})},h(),y||p})(e,t)}}]);